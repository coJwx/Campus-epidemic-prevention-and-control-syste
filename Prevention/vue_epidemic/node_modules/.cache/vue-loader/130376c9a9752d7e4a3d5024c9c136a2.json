{"remainingRequest":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\menu\\Login.vue?vue&type=style&index=0&id=7b537029&lang=scss&scoped=true&","dependencies":[{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\menu\\Login.vue","mtime":1627612228031},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\css-loader\\dist\\cjs.js","mtime":1627120054251},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1627120054798},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\postcss-loader\\src\\index.js","mtime":1627120054717},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1627120069279},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1627120054798}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmxvZ2luewogICAgaDN7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIGhlaWdodDogNjBweDsKICAgICAgICBsaW5lLWhlaWdodDogMjBweDsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiKDE3MCwgMTcwLCAxNzApOwogICAgICAgIGNvbG9yOiByZ2IoOTIsIDkyLCA5Mik7CiAgICB9CiAgICAgICAgLmlucHsKICAgICAgICBtYXJnaW4tdG9wOiAxMHB4OwogICAgfQogICAgLmJ1dHRvbnsKICAgICAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgICAgIHBvc2l0aW9uOiBmaXhlZDtsZWZ0OjUwJTt0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/menu","sourcesContent":["<template>\n\n    <div style=\"width: 25%;position:absolute;top:50%;left:50%;transform: translate(-50%,-50%);\">\n        <transition name=\"el-fade-in-linear\">\n            <el-card class=\"box-card\" shadow=\"hover\" style=\"text-align: center\"    @keyup.enter.native=\"login\" >\n                <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\n                    <h2 style=\"font-size: 1rem\">校园疫情防控管理系统</h2>\n                </div>\n                <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"input_user\" placeholder=\"请输入用户名\" class=\"inp\"></el-input>\n                <div style=\"height: 1.3rem\"></div>\n                <el-input prefix-icon=\"el-icon-lock\" placeholder=\"请输入密码\" v-model=\"input_pwd\" show-password class=\"inp\" ></el-input>\n                <el-radio-group v-model=\"radio3\" size=\"small\" style=\"display: flex;justify-content: space-around;margin-top: 1.3rem;\">\n                    <el-radio label=\"1\" border>管理员</el-radio>\n                    <el-radio label=\"2\" border>学生</el-radio>\n                    <el-radio label=\"3\" border>教师</el-radio>\n                </el-radio-group>\n                <el-button type=\"primary\" class=\"button\" size=\"small\"@click=\"login\">登录</el-button>\n            </el-card>\n        </transition>\n    </div>\n\n</template>\n<script>\nexport default {\n    name:'Login',\n    data() {\n    return {\n        input_user: '',\n        input_pwd:'',\n        radio3: \"1\",\n    }\n  },\n  methods:{\n      /**\n       * 登录\n       * 用户名：username:this.input_user,\n       * 密码：password:this.input_pwd,\n       */\n      login(){\n          if (!this.input_user || !this.input_pwd){\n                this.open3(\"用户名,密码不能为空\")\n              this.input_user=\"\"\n              this.input_pwd=\"\"\n          }else{\n            this.$Axios({\n                url:'/users/login',\n                method:'post',\n                data:{\n                    username:this.input_user,\n                    password:this.input_pwd,\n                    type:this.radio3\n                },\n                success:(result)=>{\n                 if (result==\"用户名或者账号输入错误\"){\n                     this.$message.error(\"用户名或者账号输入错误\")\n                     this.input_pwd=\"\"\n                     this.input_user=\"\"\n                 }else{\n                     window.localStorage.setItem(\"token\",result.jwt_token)\n                     //方便后来群聊使用\n                     const socketData={\n                         \"id\":result.loginData[0].id,\n                         \"name\":result.loginData[0].username,\n                         \"img\":result.loginData[0].head,\n                         }\n                    window.localStorage.setItem(\"socketData\",JSON.stringify(socketData))\n                    //  window.localStorage.setItem(\"id\",id);\n                     if (this.radio3==1)  window.location.href=' http://localhost:82/#/admin/home'\n                     if (this.radio3==2)  window.location.href=' http://localhost:82/#/student/home'\n                     if (this.radio3==3)  window.location.href=' http://localhost:82/#/teacher/home'\n                 }\n                }\n            })\n\n\n\n\n\n\n\n          }\n\n\n    },\n\n\n      open3(v) {\n          this.$message({\n              message:v,\n              type: 'warning'\n          });\n      },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n    .login{\n        h3{\n            text-align: center;\n            height: 60px;\n            line-height: 20px;\n            border-bottom: 1px solid rgb(170, 170, 170);\n            color: rgb(92, 92, 92);\n        }\n            .inp{\n            margin-top: 10px;\n        }\n        .button{\n            margin-top: 20px;\n            position: fixed;left:50%;transform: translateX(-50%);\n        }\n    }\n</style>"]}]}