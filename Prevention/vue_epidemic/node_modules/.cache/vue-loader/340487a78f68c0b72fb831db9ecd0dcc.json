{"remainingRequest":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\menu\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\menu\\Login.vue","mtime":1627612225720},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1627120038376},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1627120054798}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J0xvZ2luJywKICAgIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAgIGlucHV0X3VzZXI6ICcnLAogICAgICAgIGlucHV0X3B3ZDonJywKICAgICAgICByYWRpbzM6ICIxIiwKICAgIH0KICB9LAogIG1ldGhvZHM6ewogICAgICAvKioKICAgICAgICog55m75b2VCiAgICAgICAqIOeUqOaIt+WQje+8mnVzZXJuYW1lOnRoaXMuaW5wdXRfdXNlciwKICAgICAgICog5a+G56CB77yacGFzc3dvcmQ6dGhpcy5pbnB1dF9wd2QsCiAgICAgICAqLwogICAgICBsb2dpbigpewogICAgICAgICAgaWYgKCF0aGlzLmlucHV0X3VzZXIgfHwgIXRoaXMuaW5wdXRfcHdkKXsKICAgICAgICAgICAgICAgIHRoaXMub3BlbjMoIueUqOaIt+WQjSzlr4bnoIHkuI3og73kuLrnqboiKQogICAgICAgICAgICAgIHRoaXMuaW5wdXRfdXNlcj0iIgogICAgICAgICAgICAgIHRoaXMuaW5wdXRfcHdkPSIiCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGhpcy4kQXhpb3MoewogICAgICAgICAgICAgICAgdXJsOicvdXNlcnMvbG9naW4nLAogICAgICAgICAgICAgICAgbWV0aG9kOidwb3N0JywKICAgICAgICAgICAgICAgIGRhdGE6ewogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOnRoaXMuaW5wdXRfdXNlciwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDp0aGlzLmlucHV0X3B3ZCwKICAgICAgICAgICAgICAgICAgICB0eXBlOnRoaXMucmFkaW8zCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3VjY2VzczoocmVzdWx0KT0+ewogICAgICAgICAgICAgICAgIGlmIChyZXN1bHQ9PSLnlKjmiLflkI3miJbogIXotKblj7fovpPlhaXplJnor68iKXsKICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi55So5oi35ZCN5oiW6ICF6LSm5Y+36L6T5YWl6ZSZ6K+vIikKICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dF9wd2Q9IiIKICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dF91c2VyPSIiCiAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLHJlc3VsdC5qd3RfdG9rZW4pCiAgICAgICAgICAgICAgICAgICAgIC8v5pa55L6/5ZCO5p2l576k6IGK5L2/55SoCiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvY2tldERhdGE9ewogICAgICAgICAgICAgICAgICAgICAgICAgImlkIjpyZXN1bHQubG9naW5EYXRhWzBdLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOnJlc3VsdC5sb2dpbkRhdGFbMF0udXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAiaW1nIjpyZXN1bHQubG9naW5EYXRhWzBdLmhlYWQsCiAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzb2NrZXREYXRhIixKU09OLnN0cmluZ2lmeShzb2NrZXREYXRhKSkKICAgICAgICAgICAgICAgICAgICAvLyAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZCIsaWQpOwogICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWRpbzM9PTEpICB3aW5kb3cubG9jYXRpb24uaHJlZj0nIGh0dHA6Ly9sb2NhbGhvc3Q6ODIvIy9hZG1pbi9ob21lJwogICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yYWRpbzM9PTIpICB3aW5kb3cubG9jYXRpb24uaHJlZj0nIGh0dHA6Ly9sb2NhbGhvc3Q6ODIvIy9zdHVkZW50L2hvbWUnCiAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJhZGlvMz09MykgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPScgaHR0cDovL2xvY2FsaG9zdDo4MC8jL3RlYWNoZXIvaG9tZScKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCgoKCgoKCgogICAgICAgICAgfQoKCiAgICB9LAoKCiAgICAgIG9wZW4zKHYpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIG1lc3NhZ2U6diwKICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgIH0pOwogICAgICB9LAogIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/menu","sourcesContent":["<template>\n\n    <div style=\"width: 25%;position:absolute;top:50%;left:50%;transform: translate(-50%,-50%);\">\n        <transition name=\"el-fade-in-linear\">\n            <el-card class=\"box-card\" shadow=\"hover\" style=\"text-align: center\"    @keyup.enter.native=\"login\" >\n                <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\n                    <h2 style=\"font-size: 1rem\">校园疫情防控管理系统</h2>\n                </div>\n                <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"input_user\" placeholder=\"请输入用户名\" class=\"inp\"></el-input>\n                <div style=\"height: 1.3rem\"></div>\n                <el-input prefix-icon=\"el-icon-lock\" placeholder=\"请输入密码\" v-model=\"input_pwd\" show-password class=\"inp\" ></el-input>\n                <el-radio-group v-model=\"radio3\" size=\"small\" style=\"display: flex;justify-content: space-around;margin-top: 1.3rem;\">\n                    <el-radio label=\"1\" border>管理员</el-radio>\n                    <el-radio label=\"2\" border>学生</el-radio>\n                    <el-radio label=\"3\" border>教师</el-radio>\n                </el-radio-group>\n                <el-button type=\"primary\" class=\"button\" size=\"small\"@click=\"login\">登录</el-button>\n            </el-card>\n        </transition>\n    </div>\n\n</template>\n<script>\nexport default {\n    name:'Login',\n    data() {\n    return {\n        input_user: '',\n        input_pwd:'',\n        radio3: \"1\",\n    }\n  },\n  methods:{\n      /**\n       * 登录\n       * 用户名：username:this.input_user,\n       * 密码：password:this.input_pwd,\n       */\n      login(){\n          if (!this.input_user || !this.input_pwd){\n                this.open3(\"用户名,密码不能为空\")\n              this.input_user=\"\"\n              this.input_pwd=\"\"\n          }else{\n            this.$Axios({\n                url:'/users/login',\n                method:'post',\n                data:{\n                    username:this.input_user,\n                    password:this.input_pwd,\n                    type:this.radio3\n                },\n                success:(result)=>{\n                 if (result==\"用户名或者账号输入错误\"){\n                     this.$message.error(\"用户名或者账号输入错误\")\n                     this.input_pwd=\"\"\n                     this.input_user=\"\"\n                 }else{\n                     window.localStorage.setItem(\"token\",result.jwt_token)\n                     //方便后来群聊使用\n                     const socketData={\n                         \"id\":result.loginData[0].id,\n                         \"name\":result.loginData[0].username,\n                         \"img\":result.loginData[0].head,\n                         }\n                    window.localStorage.setItem(\"socketData\",JSON.stringify(socketData))\n                    //  window.localStorage.setItem(\"id\",id);\n                     if (this.radio3==1)  window.location.href=' http://localhost:82/#/admin/home'\n                     if (this.radio3==2)  window.location.href=' http://localhost:82/#/student/home'\n                     if (this.radio3==3)  window.location.href=' http://localhost:80/#/teacher/home'\n                 }\n                }\n            })\n\n\n\n\n\n\n\n          }\n\n\n    },\n\n\n      open3(v) {\n          this.$message({\n              message:v,\n              type: 'warning'\n          });\n      },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n    .login{\n        h3{\n            text-align: center;\n            height: 60px;\n            line-height: 20px;\n            border-bottom: 1px solid rgb(170, 170, 170);\n            color: rgb(92, 92, 92);\n        }\n            .inp{\n            margin-top: 10px;\n        }\n        .button{\n            margin-top: 20px;\n            position: fixed;left:50%;transform: translateX(-50%);\n        }\n    }\n</style>"]}]}