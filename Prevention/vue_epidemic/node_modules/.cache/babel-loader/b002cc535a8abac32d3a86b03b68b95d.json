{"remainingRequest":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\menu\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\menu\\Login.vue","mtime":1627612228031},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1627120038376},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1627120054798}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlucHV0X3VzZXI6ICcnLAogICAgICBpbnB1dF9wd2Q6ICcnLAogICAgICByYWRpbzM6ICIxIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog55m75b2VCiAgICAgKiDnlKjmiLflkI3vvJp1c2VybmFtZTp0aGlzLmlucHV0X3VzZXIsCiAgICAgKiDlr4bnoIHvvJpwYXNzd29yZDp0aGlzLmlucHV0X3B3ZCwKICAgICAqLwogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmlucHV0X3VzZXIgfHwgIXRoaXMuaW5wdXRfcHdkKSB7CiAgICAgICAgdGhpcy5vcGVuMygi55So5oi35ZCNLOWvhueggeS4jeiDveS4uuepuiIpOwogICAgICAgIHRoaXMuaW5wdXRfdXNlciA9ICIiOwogICAgICAgIHRoaXMuaW5wdXRfcHdkID0gIiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kQXhpb3MoewogICAgICAgICAgdXJsOiAnL3VzZXJzL2xvZ2luJywKICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICB1c2VybmFtZTogdGhpcy5pbnB1dF91c2VyLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5pbnB1dF9wd2QsCiAgICAgICAgICAgIHR5cGU6IHRoaXMucmFkaW8zCiAgICAgICAgICB9LAogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXN1bHQpIHsKICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSAi55So5oi35ZCN5oiW6ICF6LSm5Y+36L6T5YWl6ZSZ6K+vIikgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCLnlKjmiLflkI3miJbogIXotKblj7fovpPlhaXplJnor68iKTsKCiAgICAgICAgICAgICAgX3RoaXMuaW5wdXRfcHdkID0gIiI7CiAgICAgICAgICAgICAgX3RoaXMuaW5wdXRfdXNlciA9ICIiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCByZXN1bHQuand0X3Rva2VuKTsgLy/mlrnkvr/lkI7mnaXnvqTogYrkvb/nlKgKCiAgICAgICAgICAgICAgdmFyIHNvY2tldERhdGEgPSB7CiAgICAgICAgICAgICAgICAiaWQiOiByZXN1bHQubG9naW5EYXRhWzBdLmlkLAogICAgICAgICAgICAgICAgIm5hbWUiOiByZXN1bHQubG9naW5EYXRhWzBdLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgImltZyI6IHJlc3VsdC5sb2dpbkRhdGFbMF0uaGVhZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJzb2NrZXREYXRhIiwgSlNPTi5zdHJpbmdpZnkoc29ja2V0RGF0YSkpOyAvLyAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZCIsaWQpOwoKICAgICAgICAgICAgICBpZiAoX3RoaXMucmFkaW8zID09IDEpIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJyBodHRwOi8vbG9jYWxob3N0OjgyLyMvYWRtaW4vaG9tZSc7CiAgICAgICAgICAgICAgaWYgKF90aGlzLnJhZGlvMyA9PSAyKSB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcgaHR0cDovL2xvY2FsaG9zdDo4Mi8jL3N0dWRlbnQvaG9tZSc7CiAgICAgICAgICAgICAgaWYgKF90aGlzLnJhZGlvMyA9PSAzKSB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcgaHR0cDovL2xvY2FsaG9zdDo4Mi8jL3RlYWNoZXIvaG9tZSc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9wZW4zOiBmdW5jdGlvbiBvcGVuMyh2KSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6IHYsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA;;;;;AAKA,IAAA,KANA,mBAMA;AAAA;;AACA,UAAA,CAAA,KAAA,UAAA,IAAA,CAAA,KAAA,SAAA,EAAA;AACA,aAAA,KAAA,CAAA,YAAA;AACA,aAAA,UAAA,GAAA,EAAA;AACA,aAAA,SAAA,GAAA,EAAA;AACA,OAJA,MAIA;AACA,aAAA,MAAA,CAAA;AACA,UAAA,GAAA,EAAA,cADA;AAEA,UAAA,MAAA,EAAA,MAFA;AAGA,UAAA,IAAA,EAAA;AACA,YAAA,QAAA,EAAA,KAAA,UADA;AAEA,YAAA,QAAA,EAAA,KAAA,SAFA;AAGA,YAAA,IAAA,EAAA,KAAA;AAHA,WAHA;AAQA,UAAA,OAAA,EAAA,iBAAA,MAAA,EAAA;AACA,gBAAA,MAAA,IAAA,aAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,aAAA;;AACA,cAAA,KAAA,CAAA,SAAA,GAAA,EAAA;AACA,cAAA,KAAA,CAAA,UAAA,GAAA,EAAA;AACA,aAJA,MAIA;AACA,cAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,MAAA,CAAA,SAAA,EADA,CAEA;;AACA,kBAAA,UAAA,GAAA;AACA,sBAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA,EADA;AAEA,wBAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA,QAFA;AAGA,uBAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA;AAHA,eAAA;AAKA,cAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,YAAA,EAAA,IAAA,CAAA,SAAA,CAAA,UAAA,CAAA,EARA,CASA;;AACA,kBAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,mCAAA;AACA,kBAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,qCAAA;AACA,kBAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,qCAAA;AACA;AACA;AA3BA,SAAA;AAoCA;AAGA,KAnDA;AAsDA,IAAA,KAtDA,iBAsDA,CAtDA,EAsDA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,OAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA;AA3DA;AATA,CAAA","sourcesContent":["<template>\n\n    <div style=\"width: 25%;position:absolute;top:50%;left:50%;transform: translate(-50%,-50%);\">\n        <transition name=\"el-fade-in-linear\">\n            <el-card class=\"box-card\" shadow=\"hover\" style=\"text-align: center\"    @keyup.enter.native=\"login\" >\n                <div slot=\"header\" class=\"clearfix\" style=\"text-align: center\">\n                    <h2 style=\"font-size: 1rem\">校园疫情防控管理系统</h2>\n                </div>\n                <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"input_user\" placeholder=\"请输入用户名\" class=\"inp\"></el-input>\n                <div style=\"height: 1.3rem\"></div>\n                <el-input prefix-icon=\"el-icon-lock\" placeholder=\"请输入密码\" v-model=\"input_pwd\" show-password class=\"inp\" ></el-input>\n                <el-radio-group v-model=\"radio3\" size=\"small\" style=\"display: flex;justify-content: space-around;margin-top: 1.3rem;\">\n                    <el-radio label=\"1\" border>管理员</el-radio>\n                    <el-radio label=\"2\" border>学生</el-radio>\n                    <el-radio label=\"3\" border>教师</el-radio>\n                </el-radio-group>\n                <el-button type=\"primary\" class=\"button\" size=\"small\"@click=\"login\">登录</el-button>\n            </el-card>\n        </transition>\n    </div>\n\n</template>\n<script>\nexport default {\n    name:'Login',\n    data() {\n    return {\n        input_user: '',\n        input_pwd:'',\n        radio3: \"1\",\n    }\n  },\n  methods:{\n      /**\n       * 登录\n       * 用户名：username:this.input_user,\n       * 密码：password:this.input_pwd,\n       */\n      login(){\n          if (!this.input_user || !this.input_pwd){\n                this.open3(\"用户名,密码不能为空\")\n              this.input_user=\"\"\n              this.input_pwd=\"\"\n          }else{\n            this.$Axios({\n                url:'/users/login',\n                method:'post',\n                data:{\n                    username:this.input_user,\n                    password:this.input_pwd,\n                    type:this.radio3\n                },\n                success:(result)=>{\n                 if (result==\"用户名或者账号输入错误\"){\n                     this.$message.error(\"用户名或者账号输入错误\")\n                     this.input_pwd=\"\"\n                     this.input_user=\"\"\n                 }else{\n                     window.localStorage.setItem(\"token\",result.jwt_token)\n                     //方便后来群聊使用\n                     const socketData={\n                         \"id\":result.loginData[0].id,\n                         \"name\":result.loginData[0].username,\n                         \"img\":result.loginData[0].head,\n                         }\n                    window.localStorage.setItem(\"socketData\",JSON.stringify(socketData))\n                    //  window.localStorage.setItem(\"id\",id);\n                     if (this.radio3==1)  window.location.href=' http://localhost:82/#/admin/home'\n                     if (this.radio3==2)  window.location.href=' http://localhost:82/#/student/home'\n                     if (this.radio3==3)  window.location.href=' http://localhost:82/#/teacher/home'\n                 }\n                }\n            })\n\n\n\n\n\n\n\n          }\n\n\n    },\n\n\n      open3(v) {\n          this.$message({\n              message:v,\n              type: 'warning'\n          });\n      },\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n    .login{\n        h3{\n            text-align: center;\n            height: 60px;\n            line-height: 20px;\n            border-bottom: 1px solid rgb(170, 170, 170);\n            color: rgb(92, 92, 92);\n        }\n            .inp{\n            margin-top: 10px;\n        }\n        .button{\n            margin-top: 20px;\n            position: fixed;left:50%;transform: translateX(-50%);\n        }\n    }\n</style>"],"sourceRoot":"src/components/menu"}]}