{"remainingRequest":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\socket\\otp_socket.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\socket\\otp_socket.vue","mtime":1623840209000},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1627120038376},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1627120054798}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9cdTUyNERcdTdBRUZcdTVGMDBcdTUzRDEvQ2FtcHVzLWVwaWRlbWljLXByZXZlbnRpb24tYW5kLWNvbnRyb2wtc3lzdGUvUHJldmVudGlvbi92dWVfZXBpZGVtaWMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImluZGV4IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZHJhd2VyOiBmYWxzZSwKICAgICAgb25saW5lOiA1LAogICAgICBjb21tOiAiIiwKICAgICAgdV9pZDogMCwKICAgICAgaW1ncGF0aDogdGhpcy5zb2NrZXRwYXRoICsgIi9maWxlLyIsCiAgICAgIGNvbW1saXN0OiBbewogICAgICAgIG1zZ0RhdGE6IHsKICAgICAgICAgIG1zZzogIuezu+e7n+aPkOekujror7fkuI3opoHovbvmmJPnm7jkv6HpmYznlJ/kurrnmoTkuqTmmJPkv6Hmga8iLAogICAgICAgICAgbmFtZTogIuezu+e7n+aPkOekuiIsCiAgICAgICAgICB1aWQ6IDIsCiAgICAgICAgICBpbWc6ICI5OTkucG5nIgogICAgICAgIH0sCiAgICAgICAgZGF0ZTogMjAyMDIwMjAKICAgICAgfV0KICAgIH07CiAgfSwKICBzb2NrZXRzOiB7CiAgICBjb25uZWN0OiBmdW5jdGlvbiBjb25uZWN0KHNvY2tldCkgewogICAgICBjb25zb2xlLmxvZygiW1NZU1RFUk1d5o+h5omL5oiQ5YqfIik7CiAgICB9LAogICAgLy/ojrflj5bogYrlpKnmlbDmja4KICAgIGdldG1zZzogZnVuY3Rpb24gZ2V0bXNnKGRhdGEpIHsKICAgICAgdmFyIF9KU09OJHBhcnNlOwoKICAgICAgaWYgKGRhdGEubXNnRGF0YS51aWQgPT0gKChfSlNPTiRwYXJzZSA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzb2NrZXREYXRhIikpKSA9PT0gbnVsbCB8fCBfSlNPTiRwYXJzZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX0pTT04kcGFyc2UuaWQpKSBkYXRhLmlmID0gdHJ1ZTtlbHNlIGRhdGEuaWYgPSBmYWxzZTsKICAgICAgdGhpcy5jb21tbGlzdC5wdXNoKGRhdGEpOwogICAgICB0aGlzLmdvRGl2Ym8oImRpdkRldGFpbCIpOwogICAgfSwKICAgIC8v5qyi6L+O55So5oi35Yqg5YWlCiAgICB3ZWxjb21lOiBmdW5jdGlvbiB3ZWxjb21lKHVzZXJzKSB7CiAgICAgIHRoaXMub25saW5lID0gdXNlcnMubGVuZ3RoOwogICAgICB0aGlzLm9wZW4oIuasoui/jiIgKyB1c2Vyc1t1c2Vycy5sZW5ndGggLSAxXS5uYW1lICsgIuWKoOWFpee+pOiBiiIsIDEwMDAsICJzdWNjZXNzIik7CiAgICB9LAogICAgZGlzY29ubmVjdHM6IGZ1bmN0aW9uIGRpc2Nvbm5lY3RzKHVzZXJzLCBuYW1lKSB7CiAgICAgIHRoaXMub25saW5lID0gdXNlcnMubGVuZ3RoOyAvLyB0aGlzLm9wZW4oIHVzZXJzW3VzZXJzLmxlbmd0aCAtIDFdLm5hbWUgKyAi56a75byA5LqG576k6IGKMjIiLCAxMDAwLCAiaW5mbyIpCiAgICB9LAogICAgLy/miYvliqjnprvlvIDnvqTogYrmj5DnpLoKICAgIHF1aXQ6IGZ1bmN0aW9uIHF1aXQobmFtZSkgewogICAgICB0aGlzLm9wZW4obmFtZSArICLnprvlvIDkuobnvqTogYoiLCAxMDAwLCAiaW5mbyIpOwogICAgfQogIH0sCiAgLy8v55Sf5ZG95ZGo5pyf5Ye95pWwCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCAic3NzIik7CiAgICAvLyB0aGlzLnVfaWQ9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaWQiKQogICAgdGhpcy5qb2luKCk7IC8vIHRoaXMucXVpdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnb0JhY2s6IGZ1bmN0aW9uIGdvQmFjaygpIHsKICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJykKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgdGhpcy5xdWl0KCk7CiAgICB9LAogICAgLy/pgIDlh7rnvqTmj5DphpIKICAgIHF1aXQ6IGZ1bmN0aW9uIHF1aXQoKSB7CiAgICAgIC8v6I635Y+W5Y2z5pe25L+h5oGv5riy5p+TCiAgICAgIHRoaXMuc29ja2V0LmVtaXQoInF1aXQiLCB0aGlzLmdldEl0ZW0oKSk7CiAgICB9LAogICAgLy/ojrflj5bmtY/op4jlmajnmoTnlKjmiLfkv6Hmga8KICAgIGdldEl0ZW06IGZ1bmN0aW9uIGdldEl0ZW0oKSB7CiAgICAgIHZhciBzb2NrZXREYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzb2NrZXREYXRhIik7CiAgICAgIHNvY2tldERhdGEgPSBKU09OLnBhcnNlKHNvY2tldERhdGEpOwoKICAgICAgdmFyIG1zZ0RhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCBzb2NrZXREYXRhKTsKCiAgICAgIG1zZ0RhdGEudWlkID0gbXNnRGF0YSA9PT0gbnVsbCB8fCBtc2dEYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtc2dEYXRhLmlkOwogICAgICByZXR1cm4gbXNnRGF0YTsKICAgIH0sCiAgICBnb0RpdmJvOiBmdW5jdGlvbiBnb0RpdmJvKGlkKSB7CiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7CiAgICAgIGRpdi5zY3JvbGxUb3AgPSBkaXYuc2Nyb2xsSGVpZ2h0OwogICAgfSwKICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoZSkgewogICAgICBpZiAoIXdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic29ja2V0RGF0YSIpKSB7CiAgICAgICAgYWxlcnQoIuaCqOacqueZu+W9lSzlpITkuo7muLjlrqLmqKHlvI8g5LiN6IO95Y+R5L+h5oGvIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKGUua2V5Q29kZSA9PSAxMyAmJiBlLnNoaWZ0S2V5KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY29tbS5sZW5ndGggPT0gMSkgewogICAgICAgIHRoaXMub3Blbigi6L6T5YWl5qGG5LiN6IO95Li656m6IiwgNTAwLCAiaW5mbyIpOwogICAgICAgIHRoaXMuY29tbSA9ICIiOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5nb0RpdmJvKCJkaXZEZXRhaWwiKTsKCiAgICAgIGlmICh0aGlzLmNvbW0ubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBtc2dEYXRhID0gdGhpcy5nZXRJdGVtKCk7CiAgICAgICAgbXNnRGF0YS5tc2cgPSB0aGlzLmNvbW07CiAgICAgICAgdGhpcy5zb2NrZXQuZW1pdCgibWVzc2FnZSIsIG1zZ0RhdGEpOwogICAgICAgIHRoaXMuY29tbSA9ICIiOwogICAgICB9CiAgICB9LAogICAgLy/liqDlhaXnvqTogYoKICAgIGpvaW46IGZ1bmN0aW9uIGpvaW4oKSB7CiAgICAgIGlmICghd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzb2NrZXREYXRhIikpIHsKICAgICAgICBhbGVydCgi5oKo5pyq55m75b2VLOWkhOS6jua4uOWuouaooeW8jyDkuI3og73lj5Hkv6Hmga8iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBzb2NrZXREYXRhID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJzb2NrZXREYXRhIik7CiAgICAgIHNvY2tldERhdGEgPSBKU09OLnBhcnNlKHNvY2tldERhdGEpOwoKICAgICAgdmFyIGpvaW5EYXRhID0gX29iamVjdFNwcmVhZCh7fSwgc29ja2V0RGF0YSk7CgogICAgICBqb2luRGF0YS51aWQgPSBqb2luRGF0YSA9PT0gbnVsbCB8fCBqb2luRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogam9pbkRhdGEuaWQ7CiAgICAgIHRoaXMuc29ja2V0LmVtaXQoImpvaW4iLCBqb2luRGF0YSk7CiAgICB9LAogICAgdGltZURldGlhOiBmdW5jdGlvbiB0aW1lRGV0aWEoZGF0ZSkgewogICAgICB2YXIgdGltZTsKICAgICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlKTsKICAgICAgdmFyIG4gPSBuZXcgRGF0ZSgpOyAvL+iOt+WPluaXtumXtOaIswoKICAgICAgdmFyIGRkID0gZC5nZXRUaW1lKCk7CiAgICAgIHZhciBoID0gZC5nZXRIb3VycygpOwogICAgICB2YXIgbSA9IGQuZ2V0TWludXRlcygpOwogICAgICB2YXIgWSA9IGQuZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIE0gPSBkLmdldE1vbnRoKCkgKyAxOwogICAgICB2YXIgRCA9IGQuZ2V0RGF0ZSgpOyAvL+eOsOWcqOaXtumXtAoKICAgICAgdmFyIG5uID0gbi5nZXRUaW1lKCk7CiAgICAgIHZhciBoaCA9IG4uZ2V0SG91cnMoKTsKICAgICAgdmFyIG1tID0gbi5nZXRNaW51dGVzKCk7CiAgICAgIHZhciBZWSA9IG4uZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIE1NID0gbi5nZXRNb250aCgpICsgMTsKICAgICAgdmFyIEREID0gbi5nZXREYXRlKCk7CgogICAgICBpZiAoRCA9PSBERCAmJiBNID09IE1NICYmIFkgPT0gWVkpIHsKICAgICAgICBpZiAoaCA8IDEwKSB7CiAgICAgICAgICBoID0gIjAiICsgaDsKICAgICAgICB9CgogICAgICAgIGlmIChtIDwgMTApIHsKICAgICAgICAgIG0gPSAiMCIgKyBtOwogICAgICAgIH0KCiAgICAgICAgdGltZSA9IGggKyAiOiIgKyBtOwogICAgICAgIHJldHVybiB0aW1lOwogICAgICB9IGVsc2UgaWYgKEQgKyAxID09IEREICYmIE0gPT0gTU0gJiYgWSA9PSBZWSkgewogICAgICAgIGlmIChoIDwgMTApIHsKICAgICAgICAgIGggPSAiMCIgKyBoOwogICAgICAgIH0KCiAgICAgICAgaWYgKG0gPCAxMCkgewogICAgICAgICAgbSA9ICIwIiArIG07CiAgICAgICAgfQoKICAgICAgICB0aW1lID0gIuaYqOWkqSIgKyAiICIgKyBoICsgIjoiICsgbTsKICAgICAgICByZXR1cm4gdGltZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoTSA8IDEwKSB7CiAgICAgICAgICBNID0gIjAiICsgTTsKICAgICAgICB9CgogICAgICAgIGlmIChEIDwgMTApIHsKICAgICAgICAgIEQgPSAiMCIgKyBEOwogICAgICAgIH0KCiAgICAgICAgaWYgKGggPCAxMCkgewogICAgICAgICAgaCA9ICIwIiArIGg7CiAgICAgICAgfQoKICAgICAgICBpZiAobSA8IDEwKSB7CiAgICAgICAgICBtID0gIjAiICsgbTsKICAgICAgICB9CgogICAgICAgIHRpbWUgPSBZICsgIuW5tCIgKyBNICsgIuaciCIgKyBEICsgIuaXpSIgKyAiICIgKyBoICsgIjoiICsgbTsKICAgICAgICByZXR1cm4gdGltZTsKICAgICAgfQogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4obWVzc2FnZSwgZHVyYXRpb24sIHR5cGUpIHsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgLy8gc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLAogICAgICAgIHR5cGU6IHR5cGUKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["otp_socket.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-row class=\"box\">\n      <template v-if=\"false\">\n        <el-button :plain=\"true\"></el-button>\n      </template>\n      <el-col :span=\"24\" style>\n        <el-card class=\"group\">\n          <div class=\"group_head\">\n            <el-page-header class=\"title\" @back=\"goBack\" content=\"校园群聊\">\n              <!--<div class=\"title\"><span>魏工养老培训班</span></div>-->\n            </el-page-header>\n            <div class=\"group_head_online\">\n              <el-button\n                @click=\"drawer = true\"\n                type=\"primary\"\n                style=\"margin-left: 16px;background: none;border: none;color: dodgerblue\"\n              >\n                <span v-text=\"'在线'+online+'人'\"></span>\n              </el-button>\n            </div>\n          </div>\n          <div class=\"comment\" id=\"divDetail\">\n            <ul>\n              <li v-for=\"item in commlist\" :key=\"item.id\" style=\" list-style-type:none;\">\n                <div class=\"msgOther\" v-if=\"!item.if\">\n                  <div class=\"head_img\">\n                    <img :src=\"imgpath+item.msgData.img\" alt />\n                  </div>\n                  <div class=\"msg\">\n                    <div class=\"msg_title\">\n                      <span v-text=\"item.msgData.name\"></span>\n                      <i v-text=\"timeDetia(item.date)\">2020-8-28</i>\n                    </div>\n                    <div>\n                      <pre>{{item.msgData.msg}}</pre>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"msgMy\" v-if=\"item.if\">\n                  <div class=\"msg\">\n                    <div class=\"msg_title\">\n                      <i v-text=\"timeDetia(item.date)\">2020-8-28</i>\n                      <span v-text=\"item.msgData.name\"></span>\n                    </div>\n                    <div>\n                      <pre>{{item.msgData.msg}}</pre>\n                    </div>\n                  </div>\n                  <div class=\"head_img\">\n                    <img :src=\"imgpath+item.msgData.img\" alt />\n                  </div>\n                </div>\n              </li>\n            </ul>\n          </div>\n          <div class=\"send\">\n            <div style=\"margin-top: 15px;\">\n              <el-input\n                @keyup.enter.native=\"send\"\n                type=\"textarea\"\n                :rows=\"7\"\n                placeholder=\"请输入内容\"\n                v-model=\"comm\"\n                size=\"medium\"\n              ></el-input>\n              <!--<button @click=\"quit\">推出</button>-->\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"index\",\n  data() {\n    return {\n      drawer: false,\n      online: 5,\n      comm: \"\",\n      u_id: 0,\n      imgpath: this.socketpath + \"/file/\",\n      commlist: [\n        {\n          msgData: {\n            msg: \"系统提示:请不要轻易相信陌生人的交易信息\",\n            name: \"系统提示\",\n            uid: 2,\n            img: \"999.png\"\n          },\n          date: 20202020\n        }\n      ]\n    };\n  },\n\n  sockets: {\n    connect(socket) {\n      console.log(\"[SYSTERM]握手成功\");\n    },\n    //获取聊天数据\n    getmsg(data) {\n      if (\n        data.msgData.uid ==\n        JSON.parse(window.localStorage.getItem(\"socketData\"))?.id\n      )\n        data.if = true;\n      else data.if = false;\n      this.commlist.push(data);\n      this.goDivbo(\"divDetail\");\n    },\n    //欢迎用户加入\n    welcome(users) {\n      this.online = users.length;\n      this.open(\n        \"欢迎\" + users[users.length - 1].name + \"加入群聊\",\n        1000,\n        \"success\"\n      );\n    },\n    disconnects(users, name) {\n      this.online = users.length;\n      // this.open( users[users.length - 1].name + \"离开了群聊22\", 1000, \"info\")\n    },\n    //手动离开群聊提示\n    quit(name) {\n      this.open(name + \"离开了群聊\", 1000, \"info\");\n    }\n  },\n  ///生命周期函数\n  created() {\n    // sessionStorage.setItem('user', \"sss\");\n    // this.u_id= window.localStorage.getItem(\"id\")\n    this.join();\n    // this.quit()\n  },\n  methods: {\n    goBack() {\n      // this.$router.push('/home')\n      this.$router.go(-1);\n      this.quit();\n    },\n\n    //退出群提醒\n    quit() {\n      //获取即时信息渲染\n      this.socket.emit(\"quit\", this.getItem());\n    },\n\n    //获取浏览器的用户信息\n    getItem() {\n      let socketData = window.localStorage.getItem(\"socketData\");\n      socketData = JSON.parse(socketData);\n      let msgData = { ...socketData };\n      msgData.uid = msgData?.id;\n      return msgData;\n    },\n\n    goDivbo(id) {\n      let div = document.getElementById(id);\n      div.scrollTop = div.scrollHeight;\n    },\n    send(e) {\n      if (!window.localStorage.getItem(\"socketData\")) {\n        alert(\"您未登录,处于游客模式 不能发信息\");\n        return;\n      } else if (e.keyCode == 13 && e.shiftKey) {\n        return;\n      } else if (this.comm.length == 1) {\n        this.open(\"输入框不能为空\", 500, \"info\");\n        this.comm = \"\";\n        return;\n      }\n\n      this.goDivbo(\"divDetail\");\n\n      if (this.comm.length > 0) {\n        let msgData = this.getItem();\n        msgData.msg = this.comm;\n        this.socket.emit(\"message\", msgData);\n        this.comm = \"\";\n      }\n    },\n    //加入群聊\n    join() {\n      if (!window.localStorage.getItem(\"socketData\")) {\n        alert(\"您未登录,处于游客模式 不能发信息\");\n        return;\n      }\n      let socketData = window.localStorage.getItem(\"socketData\");\n      socketData = JSON.parse(socketData);\n      let joinData = { ...socketData };\n      joinData.uid = joinData?.id;\n      this.socket.emit(\"join\", joinData);\n    },\n\n    timeDetia: function(date) {\n      var time;\n      var d = new Date(date);\n      var n = new Date();\n      //获取时间戳\n      var dd = d.getTime();\n      var h = d.getHours();\n      var m = d.getMinutes();\n      var Y = d.getFullYear();\n      var M = d.getMonth() + 1;\n      var D = d.getDate();\n      //现在时间\n      var nn = n.getTime();\n      var hh = n.getHours();\n      var mm = n.getMinutes();\n      var YY = n.getFullYear();\n      var MM = n.getMonth() + 1;\n      var DD = n.getDate();\n\n      if (D == DD && M == MM && Y == YY) {\n        if (h < 10) {\n          h = \"0\" + h;\n        }\n        if (m < 10) {\n          m = \"0\" + m;\n        }\n        time = h + \":\" + m;\n        return time;\n      } else if (D + 1 == DD && M == MM && Y == YY) {\n        if (h < 10) {\n          h = \"0\" + h;\n        }\n        if (m < 10) {\n          m = \"0\" + m;\n        }\n        time = \"昨天\" + \" \" + h + \":\" + m;\n        return time;\n      } else {\n        if (M < 10) {\n          M = \"0\" + M;\n        }\n        if (D < 10) {\n          D = \"0\" + D;\n        }\n        if (h < 10) {\n          h = \"0\" + h;\n        }\n        if (m < 10) {\n          m = \"0\" + m;\n        }\n        time = Y + \"年\" + M + \"月\" + D + \"日\" + \" \" + h + \":\" + m;\n        return time;\n      }\n    },\n    open(message, duration, type) {\n      this.$message({\n        // showClose: true,\n        message: message,\n        duration: duration,\n        type: type\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.box {\n  ::-webkit-scrollbar {\n    display: none; /* Chrome Safari */\n  }\n\n  margin: auto;\n  width: 100%;\n  .group {\n    background: rgba(200, 200, 169, 0.05);\n    height: 55rem;\n    width: 100%;\n    .group_head {\n      .title {\n        height: 4rem;\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        span {\n          font-family: \"Helvetica Neue\", Arial, sans-serif;\n          font-size: 1.8rem;\n        }\n      }\n      position: relative;\n      display: flex;\n      /*justify-content: center;*/\n      align-items: center;\n      /*border-bottom:1px solid grey ;*/\n      box-shadow: 0px 15px 10px -20px grey;\n      width: 100%;\n      font-family: \"Helvetica Neue\", Arial, sans-serif;\n      /*,Helvetica,\"PingFang SC\",\"Hiragino Sans GB\",\"Microsoft YaHei\",\"微软雅黑\"*/\n      .group_head_online {\n        position: absolute;\n        right: 1.5rem;\n        top: -1rem;\n        color: dodgerblue;\n      }\n    }\n    .comment {\n      padding-bottom: 5rem;\n      border: 1px solid rgba(189, 172, 156, 0.5);\n      overflow-y: scroll;\n      width: 100%;\n      height: 32rem;\n      /*border-bottom: 1px solid  rgba(189, 172, 156, 0.5);;*/\n      ul {\n        li {\n          //我的列表\n          .msgMy {\n            margin-right: 1.5rem;\n            .msg_title {\n              display: flex;\n              justify-content: flex-end;\n\n              span {\n                margin-right: 0.5rem;\n                margin-left: 1rem;\n              }\n            }\n\n            display: flex;\n            justify-content: flex-end;\n            pre {\n              color: white;\n              box-shadow: 0 2px 2px rgba(10, 16, 20, 0.24),\n                0 0 2px rgba(10, 16, 20, 0.12);\n              background: rgba(107, 194, 53, 0.5);\n              border-top-left-radius: 5px;\n              border-bottom-right-radius: 5px;\n              border-bottom-left-radius: 5px;\n            }\n          }\n          .msgOther {\n            display: flex;\n            pre {\n              padding-left: 0.3rem;\n              padding-right: 0.3rem;\n              box-shadow: 0 2px 2px rgba(10, 16, 20, 0.1),\n                0 0 2px rgba(10, 16, 20, 0.1);\n              background: rgba(200, 200, 169, 0.1);\n              border-bottom-left-radius: 5px;\n              border-top-right-radius: 5px;\n              border-bottom-right-radius: 5px;\n            }\n          }\n\n          //共有部分\n          .head_img {\n            width: 3rem;\n            height: 3rem;\n            min-height: 3rem;\n            min-width: 3rem;\n            border-radius: 50%;\n            overflow: hidden;\n            img {\n              object-fit: cover;\n              width: 100%;\n              height: 100%;\n            }\n          }\n          .msg {\n            max-width: 50rem;\n            pre {\n              /*Line-height:2px;*/\n\n              line-height: 1.5em;\n              letter-spacing: 2px;\n              padding-left: 1rem;\n              padding-right: 1rem;\n              display: flex;\n              align-items: center;\n              min-height: 3rem;\n              min-width: 1rem;\n              margin-top: 0.2rem;\n              white-space: pre-wrap;\n              word-wrap: break-word;\n              font-size: 1.5rem;\n            }\n\n            margin-right: 0.5rem;\n            margin-left: 0.5rem;\n            display: flex;\n            flex-flow: column;\n            .msg_title {\n              span {\n                font-size: 0.6rem;\n              }\n              i {\n                font-size: 0.6rem;\n                color: grey;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    .send {\n      .el-textarea__inner {\n        height: 200px;\n        min-height: 200px;\n      }\n      width: 100%;\n      height: 20rem;\n      .eliinput {\n        min-height: 20rem;\n      }\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/socket"}]}