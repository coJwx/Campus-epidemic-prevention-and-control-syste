{"remainingRequest":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\main\\leave.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\src\\components\\main\\leave.vue","mtime":1623840209000},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\babel-loader\\lib\\index.js","mtime":1627120038376},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1627120038379},{"path":"D:\\前端开发\\Campus-epidemic-prevention-and-control-syste\\Prevention\\vue_epidemic\\node_modules\\vue-loader\\lib\\index.js","mtime":1627120054798}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBVc2VyU2l6ZTogMCwKICAgICAgY3VycmVudFBhZ2U6IDEyLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBwYWdlU2l6ZTogNSwKICAgICAgcGFnZU5vOiAxLAogICAgICBjdXJyZW50UGFnZTE6IDEwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0YXBwbGljYXRpb24odGhpcy5wYWdlTm8sIHRoaXMucGFnZVNpemUpOwogIH0sCiAgZmlsdGVyczogewogICAgZGF0ZTogZnVuY3Rpb24gZGF0ZSh0aW1lKSB7CiAgICAgIHZhciBkdCA9IG5ldyBEYXRlKHRpbWUpOyAvLyB5eXl5LW1tLWRkCgogICAgICB2YXIgeSA9IGR0LmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciBtID0gZHQuZ2V0TW9udGgoKSArIDE7CiAgICAgIHZhciBkID0gZHQuZ2V0RGF0ZSgpOwogICAgICB2YXIgaGggPSBkdC5nZXRIb3VycygpOwogICAgICB2YXIgbW0gPSBkdC5nZXRNaW51dGVzKCk7CiAgICAgIHZhciBzcyA9IGR0LmdldFNlY29uZHMoKTsKICAgICAgcmV0dXJuIHkgKyAiLSIgKyBtICsgIi0iICsgZCArICIgICIgKyBoaCArICI6IiArIG1tICsgIjoiICsgc3M7CiAgICB9LAogICAgc3RhdGUxOiBmdW5jdGlvbiBzdGF0ZTEoaW50KSB7CiAgICAgIGlmIChpbnQgPT0gMCkgewogICAgICAgIHJldHVybiAi5pyq5a6h5om5IjsKICAgICAgfQoKICAgICAgOwoKICAgICAgaWYgKGludCA9PSAxKSB7CiAgICAgICAgcmV0dXJuICLlrqHmibnkuI3pgJrov4ciOwogICAgICB9CgogICAgICA7CgogICAgICBpZiAoaW50ID09IDIpIHsKICAgICAgICByZXR1cm4gIuWuoeaJuemAmui/hyI7CiAgICAgIH0KCiAgICAgIDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog5L+u5pS55a6h5om554q25oCB5Li65ZCM5oSPCiAgICAgbF9pZDpyb3cubF9pZCwKICAgICB1cFN0YXRlOjIKICAgICAqLwogICAgdmlldzogZnVuY3Rpb24gdmlldyhpbmRleCwgcm93LCB1cFN0YXRlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRheGlvc2p3dCh7CiAgICAgICAgdXJsOiAiL2FkbWluL3VwTGVhdmVTdGF0ZSIsCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBsX2lkOiByb3cubF9pZCwKICAgICAgICAgIHVwU3RhdGU6IHVwU3RhdGUKICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzdWx0KSB7CiAgICAgICAgICBfdGhpcy5nZXRhcHBsaWNhdGlvbihfdGhpcy5wYWdlTm8sIF90aGlzLnBhZ2VTaXplKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICDojrflj5bor7flgYfljZUKICAgICAqIEBwYXJhbSBubwogICAgICogQHBhcmFtIHNpemUKICAgICBjdXJyUGFnZTpubywKICAgICBwYWdlTnVtOnNpemUKICAgICB0aGlzLnBhZ2VObz0xCiAgICAgdGhpcy50YWJsZURhdGE9cmVzdWx0LmRhdGE7CiAgICAgdGhpcy5Vc2VyU2l6ZSA9IHJlc3VsdC50b3RhbAogICAgICovCiAgICBnZXRhcHBsaWNhdGlvbjogZnVuY3Rpb24gZ2V0YXBwbGljYXRpb24obm8sIHNpemUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBubyA9IE51bWJlcihubykgLSAxOwogICAgICB0aGlzLiRheGlvc2p3dCh7CiAgICAgICAgdXJsOiAnL2FkbWluL2dldExlYXZlJywKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGN1cnJQYWdlOiBubywKICAgICAgICAgIHBhZ2VOdW06IHNpemUKICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzdWx0KSB7CiAgICAgICAgICBfdGhpczIucGFnZU5vID0gMTsKICAgICAgICAgIF90aGlzMi50YWJsZURhdGEgPSByZXN1bHQuZGF0YTsKICAgICAgICAgIF90aGlzMi5Vc2VyU2l6ZSA9IHJlc3VsdC50b3RhbDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5YiG6aG1CiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLmdldGFwcGxpY2F0aW9uKHRoaXMucGFnZU5vLCB0aGlzLnBhZ2VTaXplKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLnBhZ2VObyA9IHZhbDsKICAgICAgdGhpcy5nZXRhcHBsaWNhdGlvbih0aGlzLnBhZ2VObywgdGhpcy5wYWdlU2l6ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["leave.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,CADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,CAJA;AAKA,MAAA,MAAA,EAAA,CALA;AAMA,MAAA,YAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,cAAA,CAAA,KAAA,MAAA,EAAA,KAAA,QAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,IADA,EACA;AACA,UAAA,EAAA,GAAA,IAAA,IAAA,CAAA,IAAA,CAAA,CADA,CAEA;;AACA,UAAA,CAAA,GAAA,EAAA,CAAA,WAAA,EAAA;AACA,UAAA,CAAA,GAAA,EAAA,CAAA,QAAA,KAAA,CAAA;AACA,UAAA,CAAA,GAAA,EAAA,CAAA,OAAA,EAAA;AACA,UAAA,EAAA,GAAA,EAAA,CAAA,QAAA,EAAA;AACA,UAAA,EAAA,GAAA,EAAA,CAAA,UAAA,EAAA;AACA,UAAA,EAAA,GAAA,EAAA,CAAA,UAAA,EAAA;AACA,aAAA,CAAA,GAAA,GAAA,GAAA,CAAA,GAAA,GAAA,GAAA,CAAA,GAAA,IAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EAAA;AACA,KAXA;AAYA,IAAA,MAZA,kBAYA,GAZA,EAYA;AACA,UAAA,GAAA,IAAA,CAAA,EAAA;AAAA,eAAA,KAAA;AAAA;;AAAA;;AACA,UAAA,GAAA,IAAA,CAAA,EAAA;AAAA,eAAA,OAAA;AAAA;;AAAA;;AACA,UAAA,GAAA,IAAA,CAAA,EAAA;AAAA,eAAA,MAAA;AAAA;;AAAA;AACA;AAhBA,GAdA;AAgCA,EAAA,OAAA,EAAA;AACA;;;;;AAKA,IAAA,IANA,gBAMA,KANA,EAMA,GANA,EAMA,OANA,EAMA;AAAA;;AACA,WAAA,SAAA,CAAA;AACA,QAAA,GAAA,EAAA,qBADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,IAAA,EAAA,GAAA,CAAA,IADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAHA;AAMA,QAAA,OAAA,EAAA,iBAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,cAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,QAAA;AACA;AARA,OAAA;AAaA,KApBA;;AAqBA;;;;;;;;;;AAUA,IAAA,cA/BA,0BA+BA,EA/BA,EA+BA,IA/BA,EA+BA;AAAA;;AACA,MAAA,EAAA,GAAA,MAAA,CAAA,EAAA,CAAA,GAAA,CAAA;AACA,WAAA,SAAA,CAAA;AACA,QAAA,GAAA,EAAA,iBADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,IAAA,EAAA;AACA,UAAA,QAAA,EAAA,EADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAHA;AAOA,QAAA,OAAA,EAAA,iBAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,CAAA;AACA,UAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,IAAA;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,MAAA,CAAA,KAAA;AACA;AAXA,OAAA;AAaA,KA9CA;AAiDA;AACA,IAAA,gBAlDA,4BAkDA,GAlDA,EAkDA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,WAAA,cAAA,CAAA,KAAA,MAAA,EAAA,KAAA,QAAA;AACA,KArDA;AAsDA,IAAA,mBAtDA,+BAsDA,GAtDA,EAsDA;AACA,WAAA,MAAA,GAAA,GAAA;AACA,WAAA,cAAA,CAAA,KAAA,MAAA,EAAA,KAAA,QAAA;AACA;AAzDA;AAhCA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-row>\n      <el-col :span=\"24\">\n        <el-card>\n          <div slot=\"header\" class=\"clearfix\" style=\"text-align:center\">\n            <span>请假管理</span>\n          </div>\n          <el-table\n            :data=\"tableData\"\n            border\n            style=\"width: 100%\">\n            <el-table-column\n              label=\"申请时间\">\n              <template slot-scope=\"scope\">{{ scope.row.createtime | date}}</template>\n            </el-table-column>\n            <el-table-column\n                    prop=\"u_id\"\n              label=\"申请人\">\n              <!--<template slot-scope=\"scope\">{{ scope.row.u_id | username}}</template>-->\n            </el-table-column>\n            <el-table-column\n              prop=\"leavetype\"\n              label=\"类型\">\n            </el-table-column>\n            <el-table-column\n              prop=\"reason\"\n              label=\"详细信息\">\n            </el-table-column>\n            <el-table-column\n              prop=\"state\"\n              label=\"审核结果\">\n              <template slot-scope=\"scope\">{{ scope.row.state | state1}}</template>\n            </el-table-column>\n            <el-table-column\n              label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button style=\"padding: 3px 0\" type=\"text\" @click=\"view(scope.$index, scope.row,2)\">同意</el-button>\n                <el-button style=\"padding: 3px 0\" type=\"text\" @click=\"view(scope.$index, scope.row,1)\">拒绝</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <div class=\"block\" style=\"text-align:center;margin-top:20px\">\n            <el-pagination\n                    @size-change=\"handleSizeChange\"\n                    @current-change=\"handleCurrentChange\"\n                    :current-page=\"currentPage\"\n                    :page-sizes=\"[5, 10, 15, 20,25]\"\n                    :page-size=\"5\"\n                    layout=\"total, sizes, prev, pager, next, jumper\"\n                    :total=\"UserSize\">\n            </el-pagination>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n      return {\n          UserSize:0,\n          currentPage: 12,\n          tableData: [],\n          pageSize:5,\n          pageNo:1,\n          currentPage1: 10,\n      }\n    },\n    created(){\n      this.getapplication(this.pageNo,this.pageSize)\n    },\n    filters:{\n        date(time){\n            var dt = new Date(time);\n            // yyyy-mm-dd\n            var y = dt.getFullYear();\n            var m = dt.getMonth() + 1;\n            var d = dt.getDate();\n            var hh = dt.getHours();\n            var mm = dt.getMinutes();\n            var ss = dt.getSeconds();\n            return y + \"-\" + m + \"-\" + d + \"  \" + hh + \":\" + mm + \":\" + ss\n        },\n        state1(int){\n            if(int==0){return \"未审批\"};\n            if(int==1){return \"审批不通过\"};\n            if(int==2){return \"审批通过\"};\n        },\n    },\n     methods: {\n         /**\n          * 修改审批状态为同意\n          l_id:row.l_id,\n          upState:2\n          */\n      view(index,row,upState){\n          this.$axiosjwt({\n              url:\"/admin/upLeaveState\",\n              method:\"get\",\n              data:{\n                  l_id:row.l_id,\n                  upState\n              },success:(result)=>{\n                  this.getapplication(this.pageNo,this.pageSize)\n              }\n          })\n\n\n\n      },\n         /**\n          获取请假单\n          * @param no\n          * @param size\n          currPage:no,\n          pageNum:size\n          this.pageNo=1\n          this.tableData=result.data;\n          this.UserSize = result.total\n          */\n         getapplication(no,size){\n           no=Number(no)-1\n          this.$axiosjwt({\n              url:'/admin/getLeave',\n              method:'get',\n              data:{\n                  currPage:no,\n                  pageNum:size\n              }\n              ,success:(result)=>{\n                  this.pageNo=1\n                  this.tableData=result.data;\n                  this.UserSize = result.total\n              }\n          })\n        },\n\n\n         //分页\n         handleSizeChange(val) {\n             this.pageSize=val;\n             this.getapplication(this.pageNo,this.pageSize)\n         },\n         handleCurrentChange(val) {\n             this.pageNo=val;\n             this.getapplication(this.pageNo,this.pageSize)\n         }\n    },\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n</style>\n"],"sourceRoot":"src/components/main"}]}